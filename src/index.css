
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import Hebrew fonts: Heebo and Rubik */
@import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700&family=Rubik:wght@400;500;600;700&display=swap');

@layer base {
  :root {
    --background: 35 30% 96%;
    --foreground: 227 17% 23%;

    --card: 0 0% 100%;
    --card-foreground: 227 17% 23%;

    --popover: 0 0% 100%;
    --popover-foreground: 227 17% 23%;

    --primary: 30 23% 40%;
    --primary-foreground: 35 30% 96%;

    --secondary: 30 20% 94%;
    --secondary-foreground: 30 23% 35%;

    --muted: 30 20% 94%;
    --muted-foreground: 30 8% 45%;

    --accent: 25 30% 88%;
    --accent-foreground: 30 23% 30%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 35 30% 96%;

    --border: 30 10% 88%;
    --input: 30 10% 88%;
    --ring: 30 23% 40%;

    --radius: 0.75rem;

    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 30 8% 45%;
    --sidebar-primary: 30 23% 40%;
    --sidebar-primary-foreground: 35 30% 99%;
    --sidebar-accent: 30 20% 94%;
    --sidebar-accent-foreground: 30 8% 45%;
    --sidebar-border: 30 20% 94%;
    --sidebar-ring: 30 23% 40%;

    --success: 142 71% 45%;
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;
  }

  .dark {
    --background: 227 17% 16%;
    --foreground: 33 33% 95%;

    --card: 227 17% 20%;
    --card-foreground: 33 33% 95%;

    --popover: 227 17% 20%;
    --popover-foreground: 33 33% 95%;

    --primary: 33 33% 85%;
    --primary-foreground: 227 17% 16%;

    --secondary: 227 17% 25%;
    --secondary-foreground: 33 33% 95%;

    --muted: 227 17% 25%;
    --muted-foreground: 33 33% 75%;

    --accent: 11 26% 38%;
    --accent-foreground: 33 33% 95%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 33 33% 95%;

    --border: 227 17% 25%;
    --input: 227 17% 25%;
    --ring: 33 33% 85%;
    
    --sidebar-background: 227 17% 20%;
    --sidebar-foreground: 33 33% 85%;
    --sidebar-primary: 33 33% 85%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 227 17% 25%;
    --sidebar-accent-foreground: 33 33% 85%;
    --sidebar-border: 227 17% 30%;
    --sidebar-ring: 33 33% 85%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    -webkit-text-size-adjust: 100%;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-display font-medium;
  }
  
  /* Enhanced RTL support */
  .rtl {
    direction: rtl;
  }
  
  /* Default text alignment for RTL */
  .rtl h1, .rtl h2, .rtl h3, .rtl h4, .rtl h5, .rtl h6, 
  .rtl p, .rtl span, .rtl div, .rtl label, .rtl li {
    text-align: right;
  }
}

@layer components {
  /* Navigation styles */
  .nav-link {
    @apply flex items-center gap-3 p-2.5 rounded-2xl hover:bg-accent/50 transition-all duration-300;
  }
  
  .nav-link.active {
    @apply bg-accent font-medium text-primary;
  }
  
  /* RTL specific styling for nav-link */
  .rtl .nav-link {
    @apply text-right justify-start;
  }
  
  /* Card & Container Styling */
  .stat-card {
    @apply p-5 md:p-6 rounded-2xl bg-card border shadow-card hover:shadow-elevated transition-shadow duration-300;
  }
  
  .fade-in {
    @apply animate-fade-in;
  }
  
  /* RTL adjustments for margins and padding */
  .rtl .mr-auto {
    margin-left: auto !important;
    margin-right: 0 !important;
  }
  
  .rtl .ml-auto {
    margin-right: auto !important;
    margin-left: 0 !important;
  }
  
  .rtl .mr-1, .rtl .mr-2, .rtl .mr-3, .rtl .mr-4, .rtl .mr-5 {
    margin-right: 0 !important;
  }
  
  .rtl .ml-1, .rtl .ml-2, .rtl .ml-3, .rtl .ml-4, .rtl .ml-5 {
    margin-left: 0 !important;
  }
  
  /* RTL for charts */
  .rtl .chart-title {
    text-align: right;
  }
  
  /* Enhanced RTL for tables */
  .rtl th, 
  .rtl td {
    text-align: right;
  }
  
  /* Make shadcn Table component work better with RTL - fixed alignment issues */
  .rtl .alignment-left {
    text-align: right !important;
  }
  
  .rtl .alignment-right {
    text-align: left !important;
  }
  
  /* Card and component styling */
  .elegant-card {
    @apply rounded-2xl shadow-card bg-card border border-border/30 hover:shadow-elevated transition-all duration-300;
  }
  
  .warm-gradient {
    @apply bg-gradient-to-r from-warmBeige to-softRose/20;
  }
  
  .elegant-button {
    @apply rounded-2xl shadow-card transition-all duration-300 hover:shadow-hover transform hover:-translate-y-0.5;
  }
  
  .elegant-input {
    @apply rounded-xl border-border/50 focus:border-roseGold focus:ring-1 focus:ring-roseGold/50 transition-all duration-300;
  }

  /* Redesigned Filter Buttons */
  .filter-button-group {
    @apply bg-softGray/80 p-1 rounded-xl flex;
  }

  .filter-button {
    @apply rounded-lg text-charcoal/70 hover:text-charcoal transition-all duration-200;
  }

  .filter-button-active {
    @apply bg-white text-primary shadow-soft;
  }

  /* Date Range Buttons in RTL */
  .rtl .date-range-buttons {
    @apply flex flex-row-reverse;
  }

  /* Enhanced Button States */
  .btn {
    @apply rounded-xl px-4 py-2 font-medium transition-all duration-200 transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-offset-2 active:scale-[0.98];
  }

  .btn-primary {
    @apply bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-primary/30;
  }

  .btn-secondary {
    @apply bg-secondary text-secondary-foreground hover:bg-secondary/90 focus:ring-secondary/30;
  }

  .btn-outline {
    @apply border border-input bg-background hover:bg-accent/50 hover:text-accent-foreground focus:ring-accent/30;
  }

  /* Chart Styling */
  .chart-container {
    @apply rounded-2xl bg-card p-4 shadow-card hover:shadow-elevated transition-all duration-300;
  }

  .income-bar { @apply fill-oliveGreen/90; }
  .expenses-bar { @apply fill-softRose/90; }
  .profit-bar { @apply fill-roseGold/90; }

  /* Responsive adjustments */
  @media (max-width: 640px) {
    .stat-card {
      @apply p-4;
    }

    .card-title {
      @apply text-sm;
    }
    
    .card-value {
      @apply text-base md:text-lg;
    }
    
    button, a.button {
      @apply text-sm px-3 py-1.5;
    }
  }
}

/* Mobile specific optimizations */
@media (max-width: 768px) {
  /* Adjust dropdown positioning for mobile */
  [data-radix-popper-content-wrapper] {
    max-width: 90vw !important;
    transform: translateX(-50%) !important;
    left: 50% !important;
  }
  
  /* Ensure dialogs are properly centered on mobile */
  [role="dialog"] {
    @apply p-4;
  }
  
  /* Fix potential overflow issues in mobile views */
  .overflow-auto {
    -webkit-overflow-scrolling: touch;
  }
}

/* RTL specific adjustments for date range buttons */
.rtl .date-range-buttons {
  display: flex;
  flex-direction: row-reverse;
}

/* RTL adjustments for ScrollArea in sidebar */
.rtl .scrollbar {
  left: 0;
  right: unset;
}

/* Custom scroll styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--muted));
  border-radius: 8px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground));
}
